#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define RBAT_PULL_UP_R             16900
#define RBAT_PULL_DOWN_R             27000
#define RBAT_PULL_UP_VOLT             1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
BATT_TEMPERATURE Batt_Temperature_Table[] = {
{-20, 67790},
{-15, 53460},
{-10, 42450},
{-5, 33930},
{0, 27280},
{5, 22070},
{10, 17960},
{15, 14700},
{20, 12090},
{25, 10000},
{30, 8312},
{35, 6942},
{40, 5826},
{45, 4911},
{50, 4158},
{55, 3536},
{60, 3019}
};

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
{	0	,	4331	},
{	2	,	4308	},
{	4	,	4289	},
{	6	,	4271	},
{	9	,	4254	},
{	11	,	4237	},
{	13	,	4221	},
{	15	,	4205	},
{	17	,	4189	},
{	19	,	4173	},
{	21	,	4158	},
{	23	,	4142	},
{	26	,	4127	},
{	28	,	4111	},
{	30	,	4097	},
{	32	,	4082	},
{	34	,	4068	},
{	36	,	4053	},
{	38	,	4038	},
{	41	,	4021	},
{	43	,	4005	},
{	45	,	3990	},
{	47	,	3976	},
{	49	,	3965	},
{	51	,	3952	},
{	53	,	3941	},
{	55	,	3930	},
{	58	,	3920	},
{	60	,	3909	},
{	62	,	3900	},
{	64	,	3889	},
{	66	,	3880	},
{	68	,	3872	},
{	70	,	3862	},
{	73	,	3854	},
{	75	,	3847	},
{	77	,	3840	},
{	79	,	3832	},
{	81	,	3825	},
{	83	,	3818	},
{	85	,	3812	},
{	87	,	3806	},
{	90	,	3800	},
{	92	,	3795	},
{	94	,	3790	},
{	96	,	3785	},
{	98	,	3781	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	},
{	100	,	3700	}
};

// T1 0C
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
{	0	,	4329	},
{	2	,	4306	},
{	3	,	4288	},
{	5	,	4271	},
{	7	,	4255	},
{	8	,	4239	},
{	10	,	4223	},
{	12	,	4208	},
{	13	,	4192	},
{	15	,	4177	},
{	17	,	4163	},
{	18	,	4148	},
{	20	,	4133	},
{	22	,	4118	},
{	23	,	4104	},
{	25	,	4090	},
{	27	,	4077	},
{	28	,	4064	},
{	30	,	4050	},
{	32	,	4036	},
{	33	,	4022	},
{	35	,	4008	},
{	37	,	3995	},
{	38	,	3984	},
{	40	,	3971	},
{	41	,	3959	},
{	43	,	3946	},
{	45	,	3933	},
{	46	,	3922	},
{	48	,	3910	},
{	50	,	3899	},
{	51	,	3888	},
{	53	,	3878	},
{	55	,	3867	},
{	56	,	3858	},
{	58	,	3850	},
{	60	,	3843	},
{	61	,	3835	},
{	63	,	3829	},
{	65	,	3823	},
{	66	,	3817	},
{	68	,	3812	},
{	70	,	3806	},
{	71	,	3801	},
{	73	,	3797	},
{	75	,	3793	},
{	76	,	3789	},
{	78	,	3785	},
{	80	,	3781	},
{	81	,	3778	},
{	83	,	3775	},
{	85	,	3773	},
{	86	,	3771	},
{	87	,	3769	},
{	88	,	3767	},
{	89	,	3764	},
{	90	,	3761	},
{	91	,	3757	},
{	92	,	3752	},
{	93	,	3747	},
{	94	,	3740	},
{	95	,	3733	},
{	96	,	3724	},
{	97	,	3715	},
{	98	,	3704	},
{	99	,	3695	},
{	100	,	3500	},
{	100	,	3500	},
{	100	,	3500	},
{	100	,	3500	},
{	100	,	3500	},
{	100	,	3500	},
{	100	,	3500	},
{	100	,	3500	}
};

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
{	0	,	4310	},
{	2	,	4290	},
{	3	,	4273	},
{	5	,	4256	},
{	6	,	4240	},
{	7	,	4225	},
{	9	,	4209	},
{	10	,	4194	},
{	12	,	4178	},
{	13	,	4164	},
{	15	,	4149	},
{	16	,	4133	},
{	18	,	4120	},
{	19	,	4106	},
{	21	,	4093	},
{	22	,	4079	},
{	24	,	4065	},
{	25	,	4052	},
{	27	,	4040	},
{	28	,	4026	},
{	30	,	4015	},
{	31	,	4003	},
{	33	,	3990	},
{	34	,	3981	},
{	36	,	3969	},
{	37	,	3958	},
{	39	,	3948	},
{	40	,	3938	},
{	42	,	3926	},
{	43	,	3914	},
{	45	,	3900	},
{	46	,	3885	},
{	48	,	3872	},
{	49	,	3862	},
{	51	,	3853	},
{	52	,	3845	},
{	54	,	3838	},
{	55	,	3832	},
{	57	,	3825	},
{	58	,	3819	},
{	60	,	3813	},
{	61	,	3808	},
{	63	,	3803	},
{	64	,	3799	},
{	66	,	3795	},
{	67	,	3790	},
{	69	,	3788	},
{	70	,	3783	},
{	72	,	3779	},
{	73	,	3777	},
{	75	,	3775	},
{	76	,	3770	},
{	78	,	3767	},
{	79	,	3765	},
{	81	,	3762	},
{	82	,	3757	},
{	84	,	3752	},
{	85	,	3745	},
{	86	,	3740	},
{	87	,	3734	},
{	88	,	3726	},
{	89	,	3718	},
{	90	,	3710	},
{	91	,	3698	},
{	92	,	3687	},
{	93	,	3683	},
{	94	,	3681	},
{	95	,	3678	},
{	96	,	3674	},
{	97	,	3666	},
{	98	,	3631	},
{	99	,	3560	},
{	100	,	3435	},
{	100	,	3435	}
};

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
{	0	,	4316	},
{	2	,	4297	},
{	3	,	4281	},
{	5	,	4265	},
{	6	,	4249	},
{	7	,	4233	},
{	9	,	4218	},
{	10	,	4203	},
{	12	,	4188	},
{	13	,	4173	},
{	15	,	4158	},
{	16	,	4142	},
{	18	,	4129	},
{	19	,	4113	},
{	21	,	4100	},
{	22	,	4086	},
{	24	,	4073	},
{	25	,	4058	},
{	27	,	4047	},
{	28	,	4033	},
{	30	,	4021	},
{	31	,	4009	},
{	33	,	3998	},
{	34	,	3986	},
{	36	,	3976	},
{	37	,	3964	},
{	39	,	3954	},
{	40	,	3943	},
{	42	,	3934	},
{	43	,	3924	},
{	45	,	3913	},
{	46	,	3900	},
{	48	,	3883	},
{	49	,	3869	},
{	51	,	3858	},
{	52	,	3849	},
{	54	,	3842	},
{	55	,	3834	},
{	57	,	3828	},
{	58	,	3823	},
{	60	,	3816	},
{	61	,	3810	},
{	63	,	3807	},
{	64	,	3801	},
{	66	,	3797	},
{	67	,	3791	},
{	69	,	3787	},
{	70	,	3783	},
{	72	,	3779	},
{	73	,	3776	},
{	75	,	3772	},
{	76	,	3769	},
{	78	,	3762	},
{	79	,	3754	},
{	81	,	3748	},
{	82	,	3742	},
{	84	,	3737	},
{	85	,	3731	},
{	86	,	3725	},
{	87	,	3721	},
{	88	,	3715	},
{	89	,	3707	},
{	90	,	3698	},
{	91	,	3689	},
{	92	,	3678	},
{	93	,	3670	},
{	94	,	3667	},
{	95	,	3665	},
{	96	,	3662	},
{	97	,	3658	},
{	98	,	3642	},
{	99	,	3592	},
{	100	,	3517	},
{	100	,	3517	}
};

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0}
};

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
{	690	,	4331	},
{	690	,	4308	},
{	703	,	4289	},
{	708	,	4271	},
{	718	,	4254	},
{	718	,	4237	},
{	718	,	4221	},
{	718	,	4205	},
{	718	,	4189	},
{	713	,	4173	},
{	715	,	4158	},
{	710	,	4142	},
{	710	,	4127	},
{	703	,	4111	},
{	705	,	4097	},
{	703	,	4082	},
{	703	,	4068	},
{	698	,	4053	},
{	698	,	4038	},
{	690	,	4021	},
{	688	,	4005	},
{	685	,	3990	},
{	680	,	3976	},
{	680	,	3965	},
{	680	,	3952	},
{	680	,	3941	},
{	680	,	3930	},
{	683	,	3920	},
{	683	,	3909	},
{	690	,	3900	},
{	683	,	3889	},
{	685	,	3880	},
{	693	,	3872	},
{	685	,	3862	},
{	685	,	3854	},
{	695	,	3847	},
{	698	,	3840	},
{	698	,	3832	},
{	708	,	3825	},
{	713	,	3818	},
{	715	,	3812	},
{	720	,	3806	},
{	728	,	3800	},
{	733	,	3795	},
{	735	,	3790	},
{	738	,	3785	},
{	743	,	3781	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	},
{	550	,	3700	}
};

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
{	353	,	4329	},
{	353	,	4306	},
{	360	,	4288	},
{	365	,	4271	},
{	370	,	4255	},
{	378	,	4239	},
{	383	,	4223	},
{	385	,	4208	},
{	385	,	4192	},
{	390	,	4177	},
{	395	,	4163	},
{	395	,	4148	},
{	398	,	4133	},
{	398	,	4118	},
{	400	,	4104	},
{	400	,	4090	},
{	403	,	4077	},
{	408	,	4064	},
{	405	,	4050	},
{	408	,	4036	},
{	410	,	4022	},
{	405	,	4008	},
{	405	,	3995	},
{	405	,	3984	},
{	400	,	3971	},
{	398	,	3959	},
{	393	,	3946	},
{	385	,	3933	},
{	385	,	3922	},
{	380	,	3910	},
{	378	,	3899	},
{	375	,	3888	},
{	370	,	3878	},
{	368	,	3867	},
{	368	,	3858	},
{	368	,	3850	},
{	370	,	3843	},
{	370	,	3835	},
{	373	,	3829	},
{	370	,	3823	},
{	375	,	3817	},
{	378	,	3812	},
{	378	,	3806	},
{	380	,	3801	},
{	380	,	3797	},
{	385	,	3793	},
{	385	,	3789	},
{	385	,	3785	},
{	390	,	3781	},
{	393	,	3778	},
{	393	,	3775	},
{	398	,	3773	},
{	400	,	3771	},
{	410	,	3769	},
{	418	,	3767	},
{	420	,	3764	},
{	430	,	3761	},
{	440	,	3757	},
{	448	,	3752	},
{	463	,	3747	},
{	473	,	3740	},
{	485	,	3733	},
{	508	,	3724	},
{	525	,	3715	},
{	548	,	3704	},
{	575	,	3695	},
{	380	,	3500	},
{	380	,	3500	},
{	380	,	3500	},
{	380	,	3500	},
{	380	,	3500	},
{	380	,	3500	},
{	380	,	3500	},
{	380	,	3500	}
};

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
{	168	,	4310	},
{	168	,	4290	},
{	168	,	4273	},
{	168	,	4256	},
{	168	,	4240	},
{	173	,	4225	},
{	175	,	4209	},
{	175	,	4194	},
{	178	,	4178	},
{	183	,	4164	},
{	185	,	4149	},
{	185	,	4133	},
{	195	,	4120	},
{	198	,	4106	},
{	205	,	4093	},
{	208	,	4079	},
{	210	,	4065	},
{	213	,	4052	},
{	223	,	4040	},
{	220	,	4026	},
{	225	,	4015	},
{	230	,	4003	},
{	228	,	3990	},
{	235	,	3981	},
{	235	,	3969	},
{	235	,	3958	},
{	238	,	3948	},
{	235	,	3938	},
{	230	,	3926	},
{	220	,	3914	},
{	208	,	3900	},
{	190	,	3885	},
{	180	,	3872	},
{	173	,	3862	},
{	170	,	3853	},
{	165	,	3845	},
{	165	,	3838	},
{	168	,	3832	},
{	163	,	3825	},
{	163	,	3819	},
{	163	,	3813	},
{	163	,	3808	},
{	160	,	3803	},
{	163	,	3799	},
{	165	,	3795	},
{	163	,	3790	},
{	168	,	3788	},
{	165	,	3783	},
{	163	,	3779	},
{	165	,	3777	},
{	168	,	3775	},
{	160	,	3770	},
{	160	,	3767	},
{	163	,	3765	},
{	163	,	3762	},
{	163	,	3757	},
{	158	,	3752	},
{	155	,	3745	},
{	155	,	3740	},
{	158	,	3734	},
{	158	,	3726	},
{	160	,	3718	},
{	163	,	3710	},
{	160	,	3698	},
{	160	,	3687	},
{	163	,	3683	},
{	168	,	3681	},
{	175	,	3678	},
{	190	,	3674	},
{	205	,	3666	},
{	203	,	3631	},
{	213	,	3560	},
{	213	,	3435	},
{	213	,	3435	}
};

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
{	168	,	4316	},
{	168	,	4297	},
{	173	,	4281	},
{	175	,	4265	},
{	178	,	4249	},
{	183	,	4233	},
{	188	,	4218	},
{	188	,	4203	},
{	188	,	4188	},
{	190	,	4173	},
{	195	,	4158	},
{	180	,	4142	},
{	185	,	4129	},
{	180	,	4113	},
{	188	,	4100	},
{	190	,	4086	},
{	193	,	4073	},
{	185	,	4058	},
{	193	,	4047	},
{	190	,	4033	},
{	193	,	4021	},
{	193	,	4009	},
{	198	,	3998	},
{	198	,	3986	},
{	203	,	3976	},
{	203	,	3964	},
{	208	,	3954	},
{	205	,	3943	},
{	213	,	3934	},
{	218	,	3924	},
{	215	,	3913	},
{	208	,	3900	},
{	195	,	3883	},
{	188	,	3869	},
{	188	,	3858	},
{	185	,	3849	},
{	180	,	3842	},
{	173	,	3834	},
{	175	,	3828	},
{	180	,	3823	},
{	175	,	3816	},
{	175	,	3810	},
{	180	,	3807	},
{	178	,	3801	},
{	180	,	3797	},
{	178	,	3791	},
{	180	,	3787	},
{	185	,	3783	},
{	185	,	3779	},
{	188	,	3776	},
{	185	,	3772	},
{	190	,	3769	},
{	183	,	3762	},
{	175	,	3754	},
{	178	,	3748	},
{	175	,	3742	},
{	175	,	3737	},
{	175	,	3731	},
{	173	,	3725	},
{	175	,	3721	},
{	178	,	3715	},
{	175	,	3707	},
{	178	,	3698	},
{	178	,	3689	},
{	175	,	3678	},
{	175	,	3670	},
{	178	,	3667	},
{	180	,	3665	},
{	185	,	3662	},
{	193	,	3658	},
{	195	,	3642	},
{	195	,	3592	},
{	208	,	3517	},
{	208	,	3517	}
};

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0},
{0, 0}
};
// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H
 
